{"version":3,"file":"commonHelpers.js","sources":["../src/js/fav_quote.js","../src/js/fav_list.js"],"sourcesContent":["import axios from 'axios';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst quoteBlock = document.querySelector('.quote-container');\nconst date = new Date().toLocaleDateString();\n\nasync function getQuote() {\n  quoteBlock.innerHTML = `\n        <span class=\"loader\"></span>\n    `;\n  try {\n    const response = await axios\n      .get('https://energyflow.b.goit.study/api/quote')\n      .then(response => response.data);\n    return response;\n  } catch (error) {\n    Notify.failure(`Something went wrong, try again`);\n  }\n}\n\nfunction getAndRenderQuote() {\n  if (\n    localStorage.getItem('quote') &&\n    localStorage.getItem('savedDate') === date\n  ) {\n    //* Рисуем разметку из localStotrage\n\n    const { author, quote } = JSON.parse(localStorage.getItem('quote'));\n    quoteBlock.innerHTML = createMarkup(author, quote);\n  } else {\n    //* Рисуем разметку из backend'a\n\n    getQuote()\n      .then(({ author, quote }) => {\n        const localStorageQuote = {\n          quote,\n          author,\n        };\n\n        localStorage.setItem('quote', JSON.stringify(localStorageQuote));\n        localStorage.setItem('savedDate', date);\n\n        quoteBlock.innerHTML = createMarkup(author, quote);\n      })\n      .catch(error => Notify.failure(error.message));\n  }\n}\n\nfunction createMarkup(author, quote) {\n  return `\n            <div class='title-container'>\n              <span class='quote-icon_before'></span>\n              <h2 class=\"quote-title\">Quote of the day</h2>\n              <span class='quote-icon_after'></span>\n            </div>\n\n           <div class='text-container'>\n              <p class='quote-text'>${quote}</p>\n              <p class='quote-author'>${author}</p>\n           </div>\n      `;\n}\n\ngetAndRenderQuote();\n","\nconst favoritList = document.querySelector(\".favorite-list\");\nfavoritList.addEventListener(\"click\", onClick);\nconst btnPages = document.querySelector(\".list-pages\");\nbtnPages.addEventListener(\"click\",controlPages)\nconst emptyArr = document.querySelector(\".empty-favorite\");\nconst pages = document.querySelector(\".list-pages\")\nwindow.addEventListener('resize', onMobileScrin)\nconst btnFirst = document.querySelector(\".first-page\");\nconst btnSecond = document.querySelector(\".second-page\");\nconst btnThird = document.querySelector(\".third-page\");\n\nconst KEY_FAVORITE = \"favorite\";\nconst favoriteArr = JSON.parse(localStorage.getItem(KEY_FAVORITE)) ?? [];\n\nconst firstPage = favoriteArr.slice(0, 8);\nconst secondPage = favoriteArr.slice(8, 16);\nconst thirdPage = favoriteArr.slice(16, 26);\n\n    function onMobileScrin() {\n        const width = window.innerWidth;\n        \n        if (width < 768 && favoriteArr.length >= 8) {\n                createMarkup(firstPage)\n                controlPageValue()\n                btnFirst.classList.add(\"current-page\");\n                return\n            } else {\n            createMarkup(favoriteArr)\n            pages.style.display = 'none'\n            return\n        }\n};\n\nonMobileScrin();\n\n\nfunction createMarkup(arr) {\n    if (!favoriteArr.length) {\n        favoritList.innerHTML = \"\";\n        emptyArr.style.display = 'flex'\n        pages.style.display = 'none'\n    } else {\n        const markup = arr.map(({ _id, bodyPart, name, target, burnedCalories, time }) => `<li data-id=\"${_id}\" class=\"favopite-item\">\n            <div class=\"card-elements-top\">\n            <svg class=\"workaut-img\" width=\"76\" height=\"26\">\n                <use href=\"../img/fav_list/symbol-defs.svg#icon-Badge\"></use></svg>\n                <button class=\"btn-delete-favorite\"><svg  width=\"14\" height=\"14\">\n                <use class=\"delete-favorite\" href=\"../img/fav_list/symbol-defs.svg#icon-delete\"></use></svg></button>\n                <button class =\"start-button\">Start\n                <svg class=\"svg-start\" width=\"14\" height=\"14\">\n                <use href=\"../img/fav_list/symbol-defs.svg#icon-start\"></use></svg>\n                </button>\n            </div>\n            <div class=\"card-elements\">\n            <svg class=\"svg-name\" width=\"24\" height=\"24\"><use href=\"../img/fav_list/symbol-defs.svg#icon-runMan\"></use></svg>\n            <H2 class=\"name-from-api\">${name}</H2>\n            </div>\n            <ul class=\"card-elements-botton\">\n                <li class=\"elements-botton-item\"><h3 class=\"elements-botton-style\">Burned calories:</h3>\n                <p class=\"botton-style-fromAPI\">${burnedCalories}</p>\n                <span class=\"botton-style-fromAPI\">&nbsp/&nbsp</span>\n                <p class=\"botton-style-fromAPI\">${time} min</p></li>\n                <li class=\"elements-botton-item\"><h3 class=\"elements-botton-style\">Body part:</h3>\n                <p class=\"botton-style-fromAPI\">${bodyPart}</p></li>\n                <li class=\"elements-botton-item\"><h3 class=\"elements-botton-style\">Target:</h3>\n                <p class=\"botton-style-fromAPI\">${target}</p></li>\n            </ul>    \n        </li>\n        `).join(\"\");\n        favoritList.innerHTML = markup;\n    }\n};\n\n\nfunction onClick(evt) {\nevt.preventDefault();\n\n    if (evt.target.classList.contains(\"delete-favorite\")) {\n        const { id } = evt.target.closest('.favopite-item').dataset;\n        const elements = findElements(String(id));\n        const deleteArr = deleteElements(elements)\n        localStorage.setItem(KEY_FAVORITE, JSON.stringify(deleteArr));\n        createMarkup(favoriteArr)\n        controlPageValue()\n        btnFirst.classList.add(\"current-page\");\n        btnSecond.classList.remove(\"current-page\");\n        btnThird.classList.remove(\"current-page\");\n        \n    }\n};\n\n\nfunction deleteElements(elements) {\n    const newFavoritArr = favoriteArr.splice(elements, 1)\n    return favoriteArr\n};\n\n\nfunction findElements(idElements) {\n    return favoriteArr.findIndex(({_id})=>_id===idElements)\n};\n\n\nfunction controlPages(evt) {\n    evt.preventDefault();\n    if (evt.target.classList.contains(\"page\")) {\n    const clickPage = evt.target.dataset.id;\n        if (clickPage === \"1\") {\n            createMarkup(firstPage);\n            btnFirst.classList.add(\"current-page\");\n            btnSecond.classList.remove(\"current-page\");\n            btnThird.classList.remove(\"current-page\");\n            controlPageValue()\n        return\n    } else if (clickPage === \"2\") {\n            if (favoriteArr.length >= 8) {\n                createMarkup(secondPage)\n                controlPageValue()\n                btnSecond.classList.add(\"current-page\");\n                btnFirst.classList.remove(\"current-page\");\n                btnThird.classList.remove(\"current-page\");\n                return\n            } else { createMarkup(firstPage) }\n        return\n    } else if (clickPage === \"3\") {\n            if (favoriteArr.length > 16) {\n            createMarkup(thirdPage);\n                controlPageValue()\n                btnSecond.classList.remove(\"current-page\");\n                btnFirst.classList.remove(\"current-page\");\n                btnThird.classList.add(\"current-page\");\n            \n            } else {\n                createMarkup(secondPage)\n        } \n    }\n    }\n};\n\n\nfunction controlPageValue() {\n    if (favoriteArr.length <= 8) {\n        btnFirst.style.display = 'none'\n        btnSecond.style.display = 'none'\n        btnThird.style.display = 'none'\n    }else if (favoriteArr.length>8 && favoriteArr.length<=16) {\n        btnThird.style.display = 'none'\n        btnSecond.style.display = 'flex'\n    } else if (favoriteArr.length>16){\n        btnSecond.style.display = 'flex'\n        btnThird.style.display = 'flex'\n    }\n}\n"],"names":["quoteBlock","date","getQuote","axios","response","Notify","getAndRenderQuote","author","quote","createMarkup","localStorageQuote","error","favoritList","onClick","btnPages","controlPages","emptyArr","pages","onMobileScrin","btnFirst","btnSecond","btnThird","KEY_FAVORITE","favoriteArr","firstPage","secondPage","thirdPage","controlPageValue","arr","markup","_id","bodyPart","name","target","burnedCalories","time","evt","id","elements","findElements","deleteArr","deleteElements","idElements","clickPage"],"mappings":"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"}