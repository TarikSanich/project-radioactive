{"version":3,"file":"commonHelpers.js","sources":["../src/js/fav_quote.js"],"sourcesContent":["import axios from 'axios';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst quoteBlock = document.querySelector('.quote-container');\nconst date = new Date().toLocaleDateString();\n\nasync function getQuote() {\n  quoteBlock.innerHTML = `\n        <span class=\"loader\"></span>\n    `;\n  try {\n    const response = await axios\n      .get('https://energyflow.b.goit.study/api/quote')\n      .then(response => response.data);\n    return response;\n  } catch (error) {\n    Notify.failure(`Something went wrong, try again`);\n  }\n}\n\nfunction getAndRenderQuote() {\n  if (\n    localStorage.getItem('quote') &&\n    localStorage.getItem('savedDate') === date\n  ) {\n    //* Рисуем разметку из localStotrage\n\n    const { author, quote } = JSON.parse(localStorage.getItem('quote'));\n    quoteBlock.innerHTML = createMarkup(author, quote);\n  } else {\n    //* Рисуем разметку из backend'a\n\n    getQuote()\n      .then(({ author, quote }) => {\n        const localStorageQuote = {\n          quote,\n          author,\n        };\n\n        localStorage.setItem('quote', JSON.stringify(localStorageQuote));\n        localStorage.setItem('savedDate', date);\n\n        quoteBlock.innerHTML = createMarkup(author, quote);\n      })\n      .catch(error => Notify.failure(error.message));\n  }\n}\n\nfunction createMarkup(author, quote) {\n  return `\n            <div class='title-container'>\n              <span class='quote-icon_before'></span>\n              <h2 class=\"quote-title\">Quote of the day</h2>\n              <span class='quote-icon_after'></span>\n            </div>\n\n           <div class='text-containet'>\n              <p class='quote-text'>${quote}</p>\n              <p class='quote-author'>${author}</p>\n           </div>\n      `;\n}\n\ngetAndRenderQuote();\n"],"names":["quoteBlock","date","getQuote","axios","response","Notify","getAndRenderQuote","author","quote","createMarkup","localStorageQuote","error"],"mappings":"2FAGA,MAAMA,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAO,IAAI,OAAO,qBAExB,eAAeC,GAAW,CACxBF,EAAW,UAAY;AAAA;AAAA,MAGvB,GAAI,CAIF,OAHiB,MAAMG,EACpB,IAAI,2CAA2C,EAC/C,KAAKC,GAAYA,EAAS,IAAI,CAElC,MAAe,CACdC,EAAAA,OAAO,QAAQ,iCAAiC,CACjD,CACH,CAEA,SAASC,GAAoB,CAC3B,GACE,aAAa,QAAQ,OAAO,GAC5B,aAAa,QAAQ,WAAW,IAAML,EACtC,CAGA,KAAM,CAAE,OAAAM,EAAQ,MAAAC,CAAK,EAAK,KAAK,MAAM,aAAa,QAAQ,OAAO,CAAC,EAClER,EAAW,UAAYS,EAAaF,EAAQC,CAAK,CACrD,MAGIN,EAAU,EACP,KAAK,CAAC,CAAE,OAAAK,EAAQ,MAAAC,KAAY,CAC3B,MAAME,EAAoB,CACxB,MAAAF,EACA,OAAAD,CACV,EAEQ,aAAa,QAAQ,QAAS,KAAK,UAAUG,CAAiB,CAAC,EAC/D,aAAa,QAAQ,YAAaT,CAAI,EAEtCD,EAAW,UAAYS,EAAaF,EAAQC,CAAK,CACzD,CAAO,EACA,MAAMG,GAASN,EAAM,OAAC,QAAQM,EAAM,OAAO,CAAC,CAEnD,CAEA,SAASF,EAAaF,EAAQC,EAAO,CACnC,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAQ6BA,CAAK;AAAA,wCACHD,CAAM;AAAA;AAAA,OAG9C,CAEAD,EAAmB"}