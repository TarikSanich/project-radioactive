{"version":3,"file":"scroll-8f7ad35b.js","sources":["../../src/js/header.js","../../src/js/capitalize_word.js","../../src/js/pop_up_exercise.js","../../src/js/scroll.js"],"sourcesContent":["const refs = {\n  homeButtons: document.querySelectorAll('.home'),\n  favoritesButtons: document.querySelectorAll('.favorites'),\n};\n\nfunction markCurrentPage() {\n  if (window.location.href.endsWith('favorites.html')) {\n    refs.favoritesButtons.forEach(favoritesButton => {\n      favoritesButton.classList.add('current');\n    });\n  } else {\n    refs.homeButtons.forEach(homeButton => {\n      homeButton.classList.add('current');\n    });\n  }\n}\nmarkCurrentPage();\n\n(() => {\n  const linkers = {\n    mobileMenu: document.querySelector('.mobile-menu'),\n    body: document.querySelector('body'),\n    shirmOpenButton: document.querySelector('.burger-menu'),\n    shirmCloseButton: document.querySelector('.shirm-close-button'),\n  };\n  linkers.shirmOpenButton.addEventListener('click', toggleVisibility);\n  linkers.shirmCloseButton.addEventListener('click', toggleVisibility);\n  function toggleVisibility() {\n    linkers.mobileMenu.classList.toggle('menu-is-hidden');\n    linkers.body.classList.toggle('no-scroll');\n  }\n})();\n\n// Pls don`t remove the follows:\n\n// const mobileMenu = document.querySelector(\".mobile-menu\");\n// const body = document.querySelector(\"body\");\n\n// const shirmOpenButton = document.querySelector(\".burger-menu\");\n// shirmOpenButton.addEventListener('click', (event) => {\n//     mobileMenu.classList.remove(\"menu-is-hidden\");\n//     body.classList.add(\"no-scroll\");\n// });\n\n// const shirmCloseButton = document.querySelector(\".shirm-close-button\");\n// shirmCloseButton.addEventListener('click', (event) => {\n//     mobileMenu.classList.add(\"menu-is-hidden\");\n//     body.classList.remove(\"no-scroll\");\n// });\n","function capitalize(word) {\n    return word.charAt(0).toUpperCase() + word.slice(1);\n}\n\nexport { capitalize };","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport { capitalize } from './capitalize_word';\n\n\nexport function assignModal(actionName) {\n  const addToFavoritesBtn = document.querySelector('.add-to-favorites-btn');\n  addToFavoritesBtn.dataset.action = actionName;\n  if (actionName == \"Delete\") {\n    addToFavoritesBtn.textContent = \"Remove from favorites\";\n  }\n\n  // Находим контейнер с классом \"exercises-list\"\n  let container = document.querySelector('.exercises-list');\n  // Навешиваем обработчик клика на родительский элемент, делегируем событие детям\n  container.addEventListener('click', onClickCategory);\n  async function onClickCategory(event) {\n    let target = event.target;\n    // Проверяем, что кликнули по кнопке \".exercises-start-button\"\n    if (\n      target.classList.contains('exercises-start-button') ||\n      target.parentElement.classList.contains('exercises-start-button')\n    ) {\n      // Получаем значение ID из атрибута data-id кнопки\n      let exerciseId;\n      if (target.parentElement.classList.contains('exercises-start-button')) {\n        exerciseId = target.parentElement.getAttribute('id');\n      } else {\n        exerciseId = target.getAttribute('id');\n      }\n      let pushData;\n      async function getInfoByID() {\n        try {\n          await axios\n            .get('https://energyflow.b.goit.study/api/exercises/' + exerciseId)\n            .then(({ data }) => {\n              // Выводим данные на консоль\n              console.log(data);\n              // Заполняем модальное окно данными\n              document.getElementById('modalImage').src = data.gifUrl;\n              document.getElementById('modalName').textContent = capitalize(\n                data.name\n              );\n              document.getElementById('modalRating').textContent =\n                data.rating.toFixed(1);\n              document.getElementById('modalTarget').textContent = capitalize(\n                data.target\n              );\n              document.getElementById('bodyPart').textContent = capitalize(\n                data.bodyPart\n              );\n              document.getElementById('modalEquipment').textContent =\n                capitalize(data.equipment);\n              document.getElementById('modalPopularity').textContent =\n                data.popularity;\n              document.getElementById('modalBurnedCalories').textContent =\n                data.burnedCalories + ' cal / ' + data.time + ' min';\n              document.getElementById('modalDescription').textContent =\n                data.description;\n              document.querySelector('.add-to-favorites-btn').dataset.id =\n                data._id;\n\n              // Открываем модальное окно\n\n\n              var modal = document.getElementById('pop-up-exercise');\n              modal.style.display = 'flex';\n              pushData = data;\n\n                      // Вызываем функцию для отображения рейтинга\n        displayRating(data.rating);\n            });\n        } catch (error) {\n          iziToast.error({\n            title: 'Error',\n            message: 'Something went wrong, try again',\n          });\n\n        }\n      }\n      // Отправляем запрос на сервер с учетом полученного exerciseId\n      await getInfoByID();\n      // Находим кнопку \"Add to favorites\" в модальном окне\n      const addToFavoritesBtn = document.querySelector('.add-to-favorites-btn');\n\n\n      // Назначаем обработчик клика на кнопку \"Add to favorites\"\n      addToFavoritesBtn.addEventListener('click', onClick);\n\n      function onClick() {\n        // Получаем ID упражнения из атрибута id кнопки\n        const exerciseId = document.querySelector('.add-to-favorites-btn').dataset.id;\n\n        if (exerciseId) {\n          let itemName;\n          // Получаем текущий список избранных упражнений из локального хранилища или создаем новый, если его нет\n          let favorites = JSON.parse(localStorage.getItem('favorite')) || [];\n          // console.log(favorites);\n          // Проверяем, не добавлено ли упражнение уже в избранное\n          if (!favorites.some(item => item._id === exerciseId)) {\n            // Добавляем упражнение в список избранных\n            favorites.push(pushData);\n            // Сохраняем обновленный список избранных упражнений в локальное хранилище\n            localStorage.setItem('favorite', JSON.stringify(favorites));\n            // Выводим сообщение об успешном добавлении в избранное\n            iziToast.success({\n              title: 'Success',\n              message: `The exercise ${capitalize(pushData.name)} succesfuly added to favorites`,\n            });\n          } else {\n            // Если упражнение уже добавлено в избранное, выводим сообщение\n\n            iziToast.warning({\n              title: 'Denied',\n              message: `The exercise ${capitalize(pushData.name)} already exists in favorites`,\n            });\n          }\n\n        } else {\n          iziToast.error({\n            title: 'Error',\n            message: `The exercise cannot be added for some reason`,\n          });\n        }\n        addToFavoritesBtn.removeEventListener('click', onClick);\n      }\n    }\n    // container.removeEventListener(\"click\", onClickCategory);\n  }\n\n  // Навешиваем обработчик события на кнопку закрытия модального окна\n  const closeButton = document.getElementById('closeBtn');\n  closeButton.addEventListener('click', function () {\n    // Назначаем обработчик клика на кнопку \"Add to favorites\"\n    const modal = document.getElementById('pop-up-exercise');\n    modal.style.display = 'none';\n  });\n\n}\n\n// Функция для отображения рейтинга в виде звездочек\nfunction displayRating(rating) {\n    const ratingContainer = document.getElementById('rating-container');\n    \n    // Очистить контейнер рейтинга перед отображением нового рейтинга\n    ratingContainer.innerHTML = '';\n\n    // Ограничиваем рейтинг до 5 звездочек\n    const maxRating = 5;\n    const roundedRating = Math.min(Math.round(rating), maxRating);\n\n    // Создаем звездочки на основе рейтинга\n    for (let i = 0; i < maxRating; i++) {\n        const star = document.createElement('span');\n        star.classList.add('star');\n\n        // Если индекс текущей звездочки меньше рейтинга, то звезда будет желтой, иначе серой\n        if (i < roundedRating) {\n            star.innerHTML = '&#9733;'; // Желтая звезда\n        } else {\n            star.innerHTML = '&#9734;'; // Серая звезда\n        }\n\n        ratingContainer.appendChild(star);\n    }\n}\n\n// // Пример использования: вызов функции displayRating() с рейтингом, полученным с бэкэнда\n// const ratingFromBackend = 3.7; // Рейтинг, полученный с бэкэнда\n// displayRating(ratingFromBackend);\n\n\nexport function deleteListener(params) { }\n","const scrollBtn = document.getElementById('scrollTopBtn');\n\nwindow.onscroll = function () {\n  scrollFunction();\n};\n\nfunction scrollFunction() {\n  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\n    scrollBtn.style.display = 'block';\n    scrollBtn.addEventListener('click', scrollTop);\n  } else {\n    scrollBtn.style.display = 'none';\n    scrollBtn.removeEventListener('click', scrollTop);\n  }\n}\n\nscrollBtn.addEventListener('click', scrollTop);\n\nfunction scrollTop() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n"],"names":["refs","markCurrentPage","favoritesButton","homeButton","linkers","toggleVisibility","capitalize","word","assignModal","actionName","addToFavoritesBtn","onClickCategory","event","target","onClick","exerciseId","favorites","item","iziToast","pushData","getInfoByID","axios","data","modal","displayRating","rating","ratingContainer","maxRating","roundedRating","i","star","scrollBtn","scrollFunction","scrollTop"],"mappings":"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"}